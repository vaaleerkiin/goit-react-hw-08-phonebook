"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[271],{9271:function(e,n,r){r.r(n),r.d(n,{default:function(){return _}});var t,i,a,s=r(4165),o=r(5861),u=r(9439),c=r(2791),l=r(9286),d=r(5257),f=r(7309),m=r(4889),p=r(33),x=r(168),h=r(7872),g=h.Z.div(t||(t=(0,x.Z)(["\n  border: solid #000000 1px;\n  width: 700px;\n  margin-left: auto;\n  margin-right: auto;\n  background-color: #ffffff;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 16px;\n  padding: 16px;\n  border-radius: 8px;\n  overflow: hidden;\n  label {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  h2 {\n    font-size: 32px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  ul {\n    list-style: none;\n    padding: 0;\n    padding-left: 32px;\n    margin: 0;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 16px;\n\n    li {\n      width: 100%;\n      hr {\n        margin: 0;\n      }\n      div {\n        width: 100%;\n        padding-top: 16px;\n        font-size: 32px;\n        display: flex;\n        justify-content: center;\n        flex-direction: row;\n        gap: 16px;\n        align-items: center;\n      }\n    }\n  }\n  p {\n    padding: 0;\n\n    margin: 0;\n\n    font-size: 20px;\n    font-weight: 500;\n  }\n"]))),j=h.Z.div(i||(i=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 16px;\n  span {\n    font-size: 20px;\n    font-weight: 500;\n  }\n"]))),b=h.Z.div(a||(a=(0,x.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-wrap: nowrap;\n  gap: 16px;\n  @media screen and (max-width: 500px) {\n    align-items: center;\n    flex-wrap: wrap;\n    flex-direction: column-reverse;\n  }\n  input::placeholder {\n    color: black;\n  }\n"]))),y=r(3458),Z=r(9085),w=r(8431),v=r(184),k=function(){var e=d.Z.useForm(),n=(0,u.Z)(e,1)[0],r=(0,c.useState)(!1),t=(0,u.Z)(r,2),i=t[0],a=t[1],x=(0,c.useRef)(null),h=(0,y.F3)(),g=(0,u.Z)(h,2),b=g[0],k=g[1],C=k.isSuccess,E=k.isError,P=(0,y.wY)().data,F=function(){a((function(e){return!e}))};return(0,c.useEffect)((function(){E&&Z.Am.error("Fail")}),[E]),(0,c.useEffect)((function(){C&&Z.Am.success("Success")}),[C]),(0,c.useEffect)((function(){var e;null===x||void 0===x||null===(e=x.current)||void 0===e||e.focus({cursor:"start"})})),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(j,{children:[(0,v.jsx)("span",{children:"Add contact"}),(0,v.jsx)(f.ZP,{type:"primary",style:{backgroundColor:"#4BB543"},icon:(0,v.jsx)(l.Z,{}),size:"large",onClick:F})]}),(0,v.jsx)(m.Z,{title:(0,v.jsx)("h3",{style:{textAlign:"center"},children:"Add contact"}),open:i,onOk:F,onCancel:F,footer:null,children:(0,v.jsxs)(d.Z,{form:n,name:"create",labelCol:{span:4},style:{maxWidth:600},initialValues:{name:"",number:""},onFinish:function(e){F(),n.resetFields(),P&&P.some((function(n){return e.name.toLowerCase().includes(n.name.toLowerCase())}))?Z.Am.error("".concat(e.name," is already in contacts")):b(e)},children:[(0,v.jsx)(d.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:""},{validator:function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("Please input your Name!")));case 4:if(!(r.trim().length<6||r.trim().length>10)){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("Please input your Name! (Min is 6 & Max is 10)")));case 6:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()}],children:(0,v.jsx)(p.Z,{ref:x})}),(0,v.jsx)(d.Z.Item,{label:"Number",name:"number",rules:[{required:!0,message:""},{validator:function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&!r.includes("_")){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Please input your Number!")));case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()}],children:(0,v.jsx)(w.CX,{mask:"+00(000)-000-00-00"})}),(0,v.jsx)(d.Z.Item,{wrapperCol:{offset:10,span:16},children:(0,v.jsx)(f.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]})},C=r(5048),E=r(7169),P=r.n(E),F=function(e){var n=e.open,r=e.toogleModal,t=e.id,i=e.name,a=e.number,l=e.data,x=(0,c.useRef)(null),h=d.Z.useForm(),g=(0,u.Z)(h,1)[0],j=(0,y.Xd)(),b=(0,u.Z)(j,2),k=b[0],C=b[1],E=C.isError,P=C.isSuccess;return(0,c.useEffect)((function(){E&&Z.Am.error("Fail")}),[E]),(0,c.useEffect)((function(){P&&Z.Am.success("Success")}),[P]),(0,c.useEffect)((function(){var e;null===x||void 0===x||null===(e=x.current)||void 0===e||e.focus({cursor:"end"})})),(0,v.jsx)(m.Z,{title:(0,v.jsx)("h3",{style:{textAlign:"center"},children:"Edit contact"}),open:n,onOk:r,onCancel:r,footer:null,children:(0,v.jsxs)(d.Z,{form:g,name:"edit ".concat(t),labelCol:{span:4},style:{maxWidth:600},initialValues:{name:"".concat(i),number:"".concat(a)},onFinish:function(e){r(),l.some((function(n){return e.name.toLowerCase().includes(n.name.toLowerCase())&&e.number.toLowerCase().includes(n.number.toLowerCase())}))?Z.Am.error("".concat(e.name," is already in contacts")):k({id:t,values:e})},onFinishFailed:function(){return g.resetFields},children:[(0,v.jsx)(d.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:""},{validator:function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("Please input your Name!")));case 4:if(!(r.trim().length<6||r.trim().length>10)){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("Please input your Name! (Min is 6 & Max is 10)")));case 6:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()}],children:(0,v.jsx)(p.Z,{ref:x})}),(0,v.jsx)(d.Z.Item,{label:"Number",name:"number",rules:[{required:!0,message:""},{validator:function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&!r.includes("_")){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Please input your Number!")));case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()}],children:(0,v.jsx)(w.CX,{mask:"+00(000)-000-00-00"})}),(0,v.jsx)(d.Z.Item,{wrapperCol:{offset:10,span:16},children:(0,v.jsx)(f.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})},A=function(e){var n=e.name,r=e.number,t=e.id,i=e.data,a=(0,c.useState)(!1),s=(0,u.Z)(a,2),o=s[0],l=s[1],d=(0,y.zr)(),m=(0,u.Z)(d,2),p=m[0],x=m[1],h=x.isLoading,g=x.isSuccess,j=x.isError,b=function(){l((function(e){return!e}))};return(0,c.useEffect)((function(){j&&Z.Am.error("Fail")}),[j]),(0,c.useEffect)((function(){g&&Z.Am.success("Success")}),[g]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("li",{children:[(0,v.jsx)("hr",{}),(0,v.jsxs)("div",{children:[n,": ",r,(0,v.jsx)(f.ZP,{style:{marginLeft:"auto"},loading:h,disabled:h,size:"large",onClick:b,children:"Edit"}),(0,v.jsx)(f.ZP,{loading:h,disabled:h,type:"primary",size:"large",onClick:function(){p(t)},children:"Delete"})]})]}),(0,v.jsx)(F,{open:o,toogleModal:b,id:t,name:n,number:r,data:i})]})},L=function(){var e=(0,C.v9)((function(e){return e.filter})),n=(0,y.wY)(),r=n.data,t=n.isLoading,i=n.error;return(0,v.jsxs)(v.Fragment,{children:[t&&(0,v.jsx)(P(),{cssOverride:{marginLeft:"auto",marginRight:"auto"}}),(0,v.jsx)("ul",{style:{width:"100%",padding:0},children:!t&&(null!==r&&void 0!==r&&r.length?(r?r.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})):[]).map((function(e){var n=e.name,t=e.number,i=e.id;return(0,v.jsx)(A,{id:i,name:n,number:t,data:r},i)})):(0,v.jsxs)("li",{children:[(0,v.jsx)("hr",{}),(0,v.jsx)("h3",{style:{textAlign:"center"},children:"Nothing here"})]}))}),void(i&&"error"in i&&(console.log(i),Z.Am.error(i.error)))]})},N=r(9643),S=function(){var e=(0,C.v9)((function(e){return e.filter})),n=(0,C.I0)();return(0,v.jsx)(p.Z,{type:"text",name:"filter",placeholder:"Find contacts by name",value:e,style:{maxWidth:200},onChange:function(e){return n((0,N.M)({value:e.target.value}))}})},_=function(){return(0,v.jsxs)(g,{children:[(0,v.jsx)("h2",{children:"Phonebook"}),(0,v.jsxs)(b,{children:[(0,v.jsx)(S,{})," ",(0,v.jsx)(k,{})]}),(0,v.jsx)(L,{})]})}}}]);
//# sourceMappingURL=271.7a75257e.chunk.js.map